import { proxyCustomElement, HTMLElement, h, Host } from '@stencil/core/internal/client';

const bs4Css = ".sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;overflow:visible;clip:auto;white-space:normal}.dropup,.dropright,.dropdown,.dropleft{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:0.255em;vertical-align:0.255em;content:\"\";border-top:0.3em solid;border-right:0.3em solid transparent;border-bottom:0;border-left:0.3em solid transparent}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:10rem;padding:0.5rem 0;margin:0.125rem 0 0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0, 0, 0, 0.15);border-radius:0.25rem}.dropdown-menu-left{right:auto;left:0}.dropdown-menu-right{right:0;left:auto}@media (min-width: 576px){.dropdown-menu-sm-left{right:auto;left:0}.dropdown-menu-sm-right{right:0;left:auto}}@media (min-width: 768px){.dropdown-menu-md-left{right:auto;left:0}.dropdown-menu-md-right{right:0;left:auto}}@media (min-width: 992px){.dropdown-menu-lg-left{right:auto;left:0}.dropdown-menu-lg-right{right:0;left:auto}}@media (min-width: 1200px){.dropdown-menu-xl-left{right:auto;left:0}.dropdown-menu-xl-right{right:0;left:auto}}.dropup .dropdown-menu{top:auto;bottom:100%;margin-top:0;margin-bottom:0.125rem}.dropup .dropdown-toggle::after{display:inline-block;margin-left:0.255em;vertical-align:0.255em;content:\"\";border-top:0;border-right:0.3em solid transparent;border-bottom:0.3em solid;border-left:0.3em solid transparent}.dropup .dropdown-toggle:empty::after{margin-left:0}.dropright .dropdown-menu{top:0;right:auto;left:100%;margin-top:0;margin-left:0.125rem}.dropright .dropdown-toggle::after{display:inline-block;margin-left:0.255em;vertical-align:0.255em;content:\"\";border-top:0.3em solid transparent;border-right:0;border-bottom:0.3em solid transparent;border-left:0.3em solid}.dropright .dropdown-toggle:empty::after{margin-left:0}.dropright .dropdown-toggle::after{vertical-align:0}.dropleft .dropdown-menu{top:0;right:100%;left:auto;margin-top:0;margin-right:0.125rem}.dropleft .dropdown-toggle::after{display:inline-block;margin-left:0.255em;vertical-align:0.255em;content:\"\"}.dropleft .dropdown-toggle::after{display:none}.dropleft .dropdown-toggle::before{display:inline-block;margin-right:0.255em;vertical-align:0.255em;content:\"\";border-top:0.3em solid transparent;border-right:0.3em solid;border-bottom:0.3em solid transparent}.dropleft .dropdown-toggle:empty::after{margin-left:0}.dropleft .dropdown-toggle::before{vertical-align:0}.dropdown-menu[x-placement^=top],.dropdown-menu[x-placement^=right],.dropdown-menu[x-placement^=bottom],.dropdown-menu[x-placement^=left]{right:auto;bottom:auto}.dropdown-divider{height:0;margin:0.5rem 0;overflow:hidden;border-top:1px solid #e9ecef}.dropdown-item{display:block;width:100%;padding:0.25rem 1.5rem;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.dropdown-item:hover,.dropdown-item:focus{color:#16181b;text-decoration:none;background-color:#e9ecef}.dropdown-item.active,.dropdown-item:active{color:#fff;text-decoration:none;background-color:#007bff}.dropdown-item.disabled,.dropdown-item:disabled{color:#adb5bd;pointer-events:none;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:0.5rem 1.5rem;margin-bottom:0;font-size:0.875rem;color:#6c757d;white-space:nowrap}.dropdown-item-text{display:block;padding:0.25rem 1.5rem;color:#212529}:host{display:inline-block;width:var(--pf-dropdown-width, 15rem);border-radius:var(--pf-dropdown-border-radius, 0.25rem);border:var(--pf-dropdown-border, 1px solid rgba(0, 0, 0, 0.15))}:host .dropdown-head{display:flex;justify-content:space-between;align-items:center;cursor:pointer}:host .dropdown-menu{height:var(--pf-dropdown-menu-height, inherit);min-width:var(--pf-dropdown-menu-min-width, inherit);padding:var(--pf-dropdown-menu-padding-y, inherit) var(--pf-dropdown-menu-padding-x, inherit);margin:var(--pf-dropdown-menu-margin-y, inherit) var(--pf-dropdown-menu-margin-x, inherit);margin-top:var(--pf-dropdown-menu-margin-top, inherit);margin-bottom:var(--pf-dropdown-menu-margin-bottom, inherit);margin-right:var(--pf-dropdown-menu-margin-right, inherit);margin-left:var(--pf-dropdown-menu-margin-left, inherit);padding-top:var(--pf-dropdown-menu-padding-top, inherit);padding-bottom:var(--pf-dropdown-menu-padding-bottom, inherit);padding-right:var(--pf-dropdown-menu-padding-right, inherit);padding-left:var(--pf-dropdown-menu-padding-left, inherit)}:host .dropdown-menu .show{transition:all 0.4s ease-in-out}.arrow{border:solid rgba(0, 0, 0, 0.15);border-width:0 3px 3px 0;display:inline-block;padding:3px;display:flex;align-self:center}.up{transform:rotate(-135deg);-webkit-transform:rotate(-135deg);transition:all 0.2s ease-in-out}.down{transform:rotate(45deg);-webkit-transform:rotate(45deg);transition:all 0.2s ease-in-out}";

const bs5Css = ".clearfix::after{display:block;clear:both;content:\"\"}.link-primary{color:#0d6efd}.link-primary:hover,.link-primary:focus{color:#0a58ca}.link-secondary{color:#6c757d}.link-secondary:hover,.link-secondary:focus{color:#565e64}.link-success{color:#198754}.link-success:hover,.link-success:focus{color:#146c43}.link-info{color:#0dcaf0}.link-info:hover,.link-info:focus{color:#3dd5f3}.link-warning{color:#ffc107}.link-warning:hover,.link-warning:focus{color:#ffcd39}.link-danger{color:#dc3545}.link-danger:hover,.link-danger:focus{color:#b02a37}.link-light{color:#f8f9fa}.link-light:hover,.link-light:focus{color:#f9fafb}.link-dark{color:#212529}.link-dark:hover,.link-dark:focus{color:#1a1e21}.ratio{position:relative;width:100%}.ratio::before{display:block;padding-top:var(--bs-aspect-ratio);content:\"\"}.ratio>*{position:absolute;top:0;left:0;width:100%;height:100%}.ratio-1x1{--bs-aspect-ratio:100%}.ratio-4x3{--bs-aspect-ratio:75%}.ratio-16x9{--bs-aspect-ratio:56.25%}.ratio-21x9{--bs-aspect-ratio:42.8571428571%}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.sticky-top{position:sticky;top:0;z-index:1020}@media (min-width: 576px){.sticky-sm-top{position:sticky;top:0;z-index:1020}}@media (min-width: 768px){.sticky-md-top{position:sticky;top:0;z-index:1020}}@media (min-width: 992px){.sticky-lg-top{position:sticky;top:0;z-index:1020}}@media (min-width: 1200px){.sticky-xl-top{position:sticky;top:0;z-index:1020}}@media (min-width: 1400px){.sticky-xxl-top{position:sticky;top:0;z-index:1020}}.hstack{display:flex;flex-direction:row;align-items:center;align-self:stretch}.vstack{display:flex;flex:1 1 auto;flex-direction:column;align-self:stretch}.visually-hidden,.visually-hidden-focusable:not(:focus):not(:focus-within){position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important}.stretched-link::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;content:\"\"}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vr{display:inline-block;align-self:stretch;width:1px;min-height:1em;background-color:currentColor;opacity:0.25}.dropup,.dropend,.dropdown,.dropstart{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:0.255em;vertical-align:0.255em;content:\"\";border-top:0.3em solid;border-right:0.3em solid transparent;border-bottom:0;border-left:0.3em solid transparent}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{position:absolute;z-index:1000;display:none;min-width:10rem;padding:0.5rem 0;margin:0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0, 0, 0, 0.15);border-radius:0.25rem}.dropdown-menu[data-bs-popper]{top:100%;left:0;margin-top:0.125rem}.dropdown-menu-start{--bs-position:start}.dropdown-menu-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-end{--bs-position:end}.dropdown-menu-end[data-bs-popper]{right:0;left:auto}@media (min-width: 576px){.dropdown-menu-sm-start{--bs-position:start}.dropdown-menu-sm-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-sm-end{--bs-position:end}.dropdown-menu-sm-end[data-bs-popper]{right:0;left:auto}}@media (min-width: 768px){.dropdown-menu-md-start{--bs-position:start}.dropdown-menu-md-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-md-end{--bs-position:end}.dropdown-menu-md-end[data-bs-popper]{right:0;left:auto}}@media (min-width: 992px){.dropdown-menu-lg-start{--bs-position:start}.dropdown-menu-lg-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-lg-end{--bs-position:end}.dropdown-menu-lg-end[data-bs-popper]{right:0;left:auto}}@media (min-width: 1200px){.dropdown-menu-xl-start{--bs-position:start}.dropdown-menu-xl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xl-end{--bs-position:end}.dropdown-menu-xl-end[data-bs-popper]{right:0;left:auto}}@media (min-width: 1400px){.dropdown-menu-xxl-start{--bs-position:start}.dropdown-menu-xxl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xxl-end{--bs-position:end}.dropdown-menu-xxl-end[data-bs-popper]{right:0;left:auto}}.dropup .dropdown-menu[data-bs-popper]{top:auto;bottom:100%;margin-top:0;margin-bottom:0.125rem}.dropup .dropdown-toggle::after{display:inline-block;margin-left:0.255em;vertical-align:0.255em;content:\"\";border-top:0;border-right:0.3em solid transparent;border-bottom:0.3em solid;border-left:0.3em solid transparent}.dropup .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-menu[data-bs-popper]{top:0;right:auto;left:100%;margin-top:0;margin-left:0.125rem}.dropend .dropdown-toggle::after{display:inline-block;margin-left:0.255em;vertical-align:0.255em;content:\"\";border-top:0.3em solid transparent;border-right:0;border-bottom:0.3em solid transparent;border-left:0.3em solid}.dropend .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-toggle::after{vertical-align:0}.dropstart .dropdown-menu[data-bs-popper]{top:0;right:100%;left:auto;margin-top:0;margin-right:0.125rem}.dropstart .dropdown-toggle::after{display:inline-block;margin-left:0.255em;vertical-align:0.255em;content:\"\"}.dropstart .dropdown-toggle::after{display:none}.dropstart .dropdown-toggle::before{display:inline-block;margin-right:0.255em;vertical-align:0.255em;content:\"\";border-top:0.3em solid transparent;border-right:0.3em solid;border-bottom:0.3em solid transparent}.dropstart .dropdown-toggle:empty::after{margin-left:0}.dropstart .dropdown-toggle::before{vertical-align:0}.dropdown-divider{height:0;margin:0.5rem 0;overflow:hidden;border-top:1px solid rgba(0, 0, 0, 0.15)}.dropdown-item{display:block;width:100%;padding:0.25rem 1rem;clear:both;font-weight:400;color:#212529;text-align:inherit;text-decoration:none;white-space:nowrap;background-color:transparent;border:0}.dropdown-item:hover,.dropdown-item:focus{color:#1e2125;background-color:#e9ecef}.dropdown-item.active,.dropdown-item:active{color:#fff;text-decoration:none;background-color:#0d6efd}.dropdown-item.disabled,.dropdown-item:disabled{color:#adb5bd;pointer-events:none;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:0.5rem 1rem;margin-bottom:0;font-size:0.875rem;color:#6c757d;white-space:nowrap}.dropdown-item-text{display:block;padding:0.25rem 1rem;color:#212529}.dropdown-menu-dark{color:#dee2e6;background-color:#343a40;border-color:rgba(0, 0, 0, 0.15)}.dropdown-menu-dark .dropdown-item{color:#dee2e6}.dropdown-menu-dark .dropdown-item:hover,.dropdown-menu-dark .dropdown-item:focus{color:#fff;background-color:rgba(255, 255, 255, 0.15)}.dropdown-menu-dark .dropdown-item.active,.dropdown-menu-dark .dropdown-item:active{color:#fff;background-color:#0d6efd}.dropdown-menu-dark .dropdown-item.disabled,.dropdown-menu-dark .dropdown-item:disabled{color:#adb5bd}.dropdown-menu-dark .dropdown-divider{border-color:rgba(0, 0, 0, 0.15)}.dropdown-menu-dark .dropdown-item-text{color:#dee2e6}.dropdown-menu-dark .dropdown-header{color:#adb5bd}:host{display:inline-block;width:var(--pf-dropdown-width, 15rem);border-radius:var(--pf-dropdown-border-radius, 0.25rem);border:var(--pf-dropdown-border, 1px solid rgba(0, 0, 0, 0.15))}:host .dropdown-head{display:flex;justify-content:space-between;align-items:center;cursor:pointer}:host .dropdown-menu{height:var(--pf-dropdown-menu-height, inherit);min-width:var(--pf-dropdown-menu-min-width, inherit);padding:var(--pf-dropdown-menu-padding-y, inherit) var(--pf-dropdown-menu-padding-x, inherit);margin:var(--pf-dropdown-menu-margin-y, inherit) var(--pf-dropdown-menu-margin-x, inherit);margin-top:var(--pf-dropdown-menu-margin-top, inherit);margin-bottom:var(--pf-dropdown-menu-margin-bottom, inherit);margin-right:var(--pf-dropdown-menu-margin-right, inherit);margin-left:var(--pf-dropdown-menu-margin-left, inherit);padding-top:var(--pf-dropdown-menu-padding-top, inherit);padding-bottom:var(--pf-dropdown-menu-padding-bottom, inherit);padding-right:var(--pf-dropdown-menu-padding-right, inherit);padding-left:var(--pf-dropdown-menu-padding-left, inherit)}:host .dropdown-menu .show{transition:all 0.4s ease-in-out}.arrow{border:solid rgba(0, 0, 0, 0.15);border-width:0 3px 3px 0;display:inline-block;padding:3px;display:flex;align-self:center}.up{transform:rotate(-135deg);-webkit-transform:rotate(-135deg);transition:all 0.2s ease-in-out}.down{transform:rotate(45deg);-webkit-transform:rotate(45deg);transition:all 0.2s ease-in-out}";

const PfDropdown$1 = /*@__PURE__*/ proxyCustomElement(class extends HTMLElement {
  constructor() {
    super();
    this.__registerHost();
    this.__attachShadow();
    this.fixedStyles = {
      left: 'inherit',
      right: `0`,
    };
    this.windowWidth = 0;
    this.isOpen = false;
    this.hideArrow = false;
    this.openOnButtonClick = true;
  }
  listenDocumentClick(event) {
    const target = event.target;
    if (this.el !== target && !this.el.contains(target)) {
      this.closeDropdown();
    }
  }
  listenBodyResize() {
    this.calculateFixedStyles();
  }
  watchClass(value) {
    if (!value.includes('dropdown')) {
      this.class = `dropdown ${value}`;
    }
  }
  calculateFixedStyles() {
    setTimeout(() => {
      this.windowWidth = document.body.offsetWidth;
      const buttonWidth = this.dropdownButton.offsetWidth;
      const menuWidth = this.dropdownMenu.offsetWidth;
      const buttonLeftPosition = this.dropdownButton.getBoundingClientRect().left;
      // Pixels that from left of the screen to the right of the buttons
      const visiblePart = buttonLeftPosition + buttonWidth + 5;
      if (visiblePart < menuWidth) {
        if (this.windowWidth < menuWidth) {
          this.fixedStyles = {
            left: 'inherit',
            right: `${visiblePart + 5 - this.windowWidth}px`,
          };
        }
        else {
          this.fixedStyles = {
            left: 'inherit',
            right: `${menuWidth - 5 - this.windowWidth}px`,
          };
        }
      }
      else {
        this.fixedStyles = { left: 'inherit', right: `0` };
      }
    }, 0);
  }
  componentDidLoad() {
    this.calculateFixedStyles();
  }
  handleOnButtonClick() {
    if (this.openOnButtonClick) {
      this.toggleDropdown();
    }
  }
  openDropdown() {
    this.isOpen = true;
    this.calculateFixedStyles();
  }
  closeDropdown() {
    this.isOpen = false;
  }
  toggleDropdown() {
    if (this.isOpen) {
      this.closeDropdown();
    }
    else {
      this.openDropdown();
    }
  }
  render() {
    return (h(Host, null, h("div", { ref: (el) => (this.dropdownButton = el), class: "dropdown-head", onClick: this.handleOnButtonClick.bind(this) }, h("slot", { name: "button" }), !this.hideArrow && (h("i", { class: { arrow: true, down: !this.isOpen, up: this.isOpen }, style: { margin: this.isOpen ? '3px 3px 0 0' : '0 3px 3px 0' } }))), h("div", { ref: (el) => (this.dropdownMenu = el), class: {
        'dropdown-menu': true,
        show: this.isOpen,
      }, style: Object.assign({}, this.fixedStyles) }, h("slot", { name: "menu" }))));
  }
  get el() { return this; }
  static get watchers() { return {
    "class": ["watchClass"]
  }; }
  static get style() { return {
    bs4: bs4Css,
    bs5: bs5Css
  }; }
}, [33, "pf-dropdown", {
    "class": [1537],
    "isOpen": [1540, "is-open"],
    "mode": [1537],
    "hideArrow": [1540, "hide-arrow"],
    "openOnButtonClick": [1540, "open-on-button-click"],
    "fixedStyles": [32],
    "windowWidth": [32]
  }, [[8, "click", "listenDocumentClick"], [9, "resize", "listenBodyResize"]]]);
function defineCustomElement$1() {
  if (typeof customElements === "undefined") {
    return;
  }
  const components = ["pf-dropdown"];
  components.forEach(tagName => { switch (tagName) {
    case "pf-dropdown":
      if (!customElements.get(tagName)) {
        customElements.define(tagName, PfDropdown$1);
      }
      break;
  } });
}

const PfDropdown = PfDropdown$1;
const defineCustomElement = defineCustomElement$1;

export { PfDropdown, defineCustomElement };
